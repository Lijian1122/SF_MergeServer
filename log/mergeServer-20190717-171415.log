Log file created at: 2019/07/17 17:14:15
Running on machine: live2.sanhai
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
E0717 17:14:15.313096 14909 webserver.cpp:162] 接口返回数据异常 ret:-1  错误信息:
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'LIVE合成-http://192.168.1.206:8082/muxer/mergefile' for key 'IDX_server_info_np'
### The error may involve com.dbr.eduLive.Dao.ServiceDao.serverInsert-Inline
### The error occurred while setting parameters
### SQL: insert into server_info    (      netFlag    ,     serverType    ,     serverName    ,     serverApi    )    values    (      ?    ,     ?    ,     ?    ,     ?    )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'LIVE合成-http://192.168.1.206:8082/muxer/mergefile' for key 'IDX_server_info_np'
; SQL []; Duplicate entry 'LIVE合成-http://192.168.1.206:8082/muxer/mergefile' for key 'IDX_server_info_np'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'LIVE合成-http://192.168.1.206:8082/muxer/mergefile' for key 'IDX_server_info_np'
E0717 17:14:15.314740 14909 webserver.cpp:392] 解析注册录制 数据失败 main_ret:-1
I0717 17:14:15.324175 14913 webserver.cpp:196] 合成服务已启动 on port:8082
I0717 17:14:15.340770 14909 CThreadPool.cpp:101] 线程池已启动 10 个线程
I0717 17:14:15.342938 14909 webserver.cpp:458] server start: main_ret:0
I0717 17:14:30.275297 14913 webserver.cpp:24] Get Url:/muxer/mergefile
I0717 17:14:30.275490 14913 webserver.cpp:55] 解析参数 livID:100120190330gEdVJz8U
I0717 17:14:30.275699 14914 webserver.cpp:102] 管理线程获取参数 直播ID:100120190330gEdVJz8U
I0717 17:14:30.275876 14922 CThreadPool.cpp:49]  开始执行任务 liveID:100120190330gEdVJz8U
E0717 17:14:30.276830 14922 MP4Encoder.cpp:60] 开始合成 liveId:100120190330gEdVJz8U  fileName:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U
W0717 17:14:30.301932 14922 MP4Encoder.cpp:277]  aac uDuration:50880   lastTimeStramp202784    timeStramp:203368 liveId:100120190330gEdVJz8U
W0717 17:14:30.301981 14922 MP4Encoder.cpp:215]  h264 uDuration:52920   lastTimeStramp: 202784    timeStramp:203372 liveId:100120190330gEdVJz8U
E0717 17:14:30.319833 14922 MP4Encoder.cpp:534] aac文件 已经读不到aac 一帧长度,已读数据长度:4251486  文件数据总长度:4251648 文件名:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac
I0717 17:14:30.319914 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  2033
I0717 17:14:30.319926 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  1821
I0717 17:14:30.319936 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  1663
I0717 17:14:30.319953 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  1795
I0717 17:14:30.319964 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  1813
I0717 17:14:30.319972 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  1774
I0717 17:14:30.319995 14922 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  1707
E0717 17:14:30.320011 14922 MP4Encoder.cpp:441] h264文件 已经读不到H264一帧数据长度,已读数据长度:18714483  文件数据总长度:18714624 文件名:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264
I0717 17:14:30.320055 14922 MP4Encoder.cpp:641] h264文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.h264  aac文件也已经读完:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U.aac
I0717 17:14:30.320124 14922 MP4Encoder.cpp:298] MP4Encoder::CloseMP4File 开始关闭mp4句柄 liveId:100120190330gEdVJz8U
I0717 17:14:30.323485 14922 MP4Encoder.cpp:304] MP4Encoder::CloseMP4File 已经关闭mp4句柄 liveId:100120190330gEdVJz8U
I0717 17:14:30.323515 14922 MergeRunable.cpp:75] 执行任务 liveID:100120190330gEdVJz8U  合成成功  rescode:1   fileName:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U/100120190330gEdVJz8U
E0717 17:14:30.323534 14922 MergeRunable.cpp:95] rescode :1
I0717 17:14:30.323585 14922 MergeRunable.cpp:118] UpdataMergeUrl:http://192.168.1.205:8080/live/live_update?liveId=100120190330gEdVJz8U&mixFlag=1&operateId=test
I0717 17:14:30.658263 14913 webserver.cpp:24] Get Url:/favicon.ico
E0717 17:14:30.658365 14913 webserver.cpp:66] Methond ERROR
I0717 17:14:31.430299 14922 MergeRunable.cpp:142] 执行任务 liveID:100120190330gEdVJz8U  上传合成状态成功
I0717 17:14:31.430622 14922 CThreadPool.cpp:57]  执行任务 liveID:100120190330gEdVJz8U  完成
I0717 17:15:02.295508 14913 webserver.cpp:24] Get Url:/muxer/mergefile
I0717 17:15:02.295639 14913 webserver.cpp:55] 解析参数 livID:100120190330gEdVJz8U007
I0717 17:15:02.295766 14914 webserver.cpp:102] 管理线程获取参数 直播ID:100120190330gEdVJz8U007
I0717 17:15:02.295994 14919 CThreadPool.cpp:49]  开始执行任务 liveID:100120190330gEdVJz8U007
E0717 17:15:02.296612 14919 MP4Encoder.cpp:60] 开始合成 liveId:100120190330gEdVJz8U007  fileName:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007
W0717 17:15:02.399195 14919 MP4Encoder.cpp:215]  h264 uDuration:24840   lastTimeStramp: 1723318    timeStramp:1723594 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399261 14919 MP4Encoder.cpp:215]  h264 uDuration:24480   lastTimeStramp: 1723843    timeStramp:1724115 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399279 14919 MP4Encoder.cpp:277]  aac uDuration:24640   lastTimeStramp1724117    timeStramp:1724131 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399346 14919 MP4Encoder.cpp:215]  h264 uDuration:22770   lastTimeStramp: 1725265    timeStramp:1725518 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399554 14919 MP4Encoder.cpp:215]  h264 uDuration:20520   lastTimeStramp: 1729116    timeStramp:1729344 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399570 14919 MP4Encoder.cpp:277]  aac uDuration:23360   lastTimeStramp1729368    timeStramp:1729385 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399627 14919 MP4Encoder.cpp:215]  h264 uDuration:24930   lastTimeStramp: 1730656    timeStramp:1730933 liveId:100120190330gEdVJz8U007
W0717 17:15:02.399652 14919 MP4Encoder.cpp:277]  aac uDuration:21920   lastTimeStramp1730933    timeStramp:1730938 liveId:100120190330gEdVJz8U007
I0717 17:15:02.402621 14913 webserver.cpp:24] Get Url:/favicon.ico
E0717 17:15:02.402644 14913 webserver.cpp:66] Methond ERROR
W0717 17:15:02.540014 14919 MP4Encoder.cpp:277]  aac uDuration:20160   lastTimeStramp4464889    timeStramp:4465002 liveId:100120190330gEdVJz8U007
W0717 17:15:02.755671 14919 MP4Encoder.cpp:215]  h264 uDuration:22230   lastTimeStramp: 8648820    timeStramp:8649067 liveId:100120190330gEdVJz8U007
W0717 17:15:02.755719 14919 MP4Encoder.cpp:277]  aac uDuration:21040   lastTimeStramp8649087    timeStramp:8649097 liveId:100120190330gEdVJz8U007
W0717 17:15:02.768563 14919 MP4Encoder.cpp:215]  h264 uDuration:34020   lastTimeStramp: 8907018    timeStramp:8907396 liveId:100120190330gEdVJz8U007
W0717 17:15:02.768596 14919 MP4Encoder.cpp:277]  aac uDuration:25280   lastTimeStramp8907396    timeStramp:8907443 liveId:100120190330gEdVJz8U007
W0717 17:15:02.780004 14919 MP4Encoder.cpp:215]  h264 uDuration:22140   lastTimeStramp: 9156887    timeStramp:9157133 liveId:100120190330gEdVJz8U007
W0717 17:15:02.780256 14919 MP4Encoder.cpp:277]  aac uDuration:21680   lastTimeStramp9161941    timeStramp:9162215 liveId:100120190330gEdVJz8U007
W0717 17:15:02.780272 14919 MP4Encoder.cpp:215]  h264 uDuration:26460   lastTimeStramp: 9161941    timeStramp:9162235 liveId:100120190330gEdVJz8U007
W0717 17:15:02.780488 14919 MP4Encoder.cpp:215]  h264 uDuration:25380   lastTimeStramp: 9165325    timeStramp:9165607 liveId:100120190330gEdVJz8U007
W0717 17:15:02.780517 14919 MP4Encoder.cpp:277]  aac uDuration:33520   lastTimeStramp9165607    timeStramp:9165751 liveId:100120190330gEdVJz8U007
W0717 17:15:02.780536 14919 MP4Encoder.cpp:215]  h264 uDuration:24570   lastTimeStramp: 9165607    timeStramp:9165880 liveId:100120190330gEdVJz8U007
W0717 17:15:02.871448 14919 MP4Encoder.cpp:277]  aac uDuration:23120   lastTimeStramp10992007    timeStramp:10992128 liveId:100120190330gEdVJz8U007
W0717 17:15:02.872545 14919 MP4Encoder.cpp:215]  h264 uDuration:24030   lastTimeStramp: 11012017    timeStramp:11012284 liveId:100120190330gEdVJz8U007
W0717 17:15:02.873816 14919 MP4Encoder.cpp:215]  h264 uDuration:21240   lastTimeStramp: 11035470    timeStramp:11035706 liveId:100120190330gEdVJz8U007
W0717 17:15:02.875952 14919 MP4Encoder.cpp:215]  h264 uDuration:21870   lastTimeStramp: 11076679    timeStramp:11076922 liveId:100120190330gEdVJz8U007
W0717 17:15:02.878307 14919 MP4Encoder.cpp:215]  h264 uDuration:33390   lastTimeStramp: 11121010    timeStramp:11121381 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920195 14919 MP4Encoder.cpp:215]  h264 uDuration:28350   lastTimeStramp: 11972611    timeStramp:11972926 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920289 14919 MP4Encoder.cpp:215]  h264 uDuration:21780   lastTimeStramp: 11973663    timeStramp:11973905 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920365 14919 MP4Encoder.cpp:277]  aac uDuration:32320   lastTimeStramp11974888    timeStramp:11975300 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920382 14919 MP4Encoder.cpp:215]  h264 uDuration:73080   lastTimeStramp: 11974888    timeStramp:11975700 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920409 14919 MP4Encoder.cpp:277]  aac uDuration:33200   lastTimeStramp11975700    timeStramp:11975715 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920451 14919 MP4Encoder.cpp:277]  aac uDuration:20640   lastTimeStramp11976156    timeStramp:11976440 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920465 14919 MP4Encoder.cpp:215]  h264 uDuration:27180   lastTimeStramp: 11976156    timeStramp:11976458 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920481 14919 MP4Encoder.cpp:215]  h264 uDuration:23670   lastTimeStramp: 11976458    timeStramp:11976721 liveId:100120190330gEdVJz8U007
W0717 17:15:02.920509 14919 MP4Encoder.cpp:277]  aac uDuration:21200   lastTimeStramp11976721    timeStramp:11976723 liveId:100120190330gEdVJz8U007
W0717 17:15:03.143981 14919 MP4Encoder.cpp:215]  h264 uDuration:21150   lastTimeStramp: 16347146    timeStramp:16347381 liveId:100120190330gEdVJz8U007
W0717 17:15:03.144088 14919 MP4Encoder.cpp:215]  h264 uDuration:20880   lastTimeStramp: 16348613    timeStramp:16348845 liveId:100120190330gEdVJz8U007
E0717 17:15:03.188665 14919 MP4Encoder.cpp:534] aac文件 已经读不到aac 一帧长度,已读数据长度:130211695  文件数据总长度:130211840 文件名:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.aac
I0717 17:15:03.188750 14919 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.h264  1057
I0717 17:15:03.188767 14919 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.h264  1189
I0717 17:15:03.188797 14919 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.h264  1408
I0717 17:15:03.188807 14919 MP4Encoder.cpp:624] aac文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.aac  h264文件还需写入:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.h264  1339
E0717 17:15:03.188836 14919 MP4Encoder.cpp:441] h264文件 已经读不到H264一帧数据长度,已读数据长度:562134100  文件数据总长度:562135040 文件名:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.h264
I0717 17:15:03.188884 14919 MP4Encoder.cpp:641] h264文件已读完: /recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.h264  aac文件也已经读完:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007.aac
I0717 17:15:03.188933 14919 MP4Encoder.cpp:298] MP4Encoder::CloseMP4File 开始关闭mp4句柄 liveId:100120190330gEdVJz8U007
I0717 17:15:03.273264 14919 MP4Encoder.cpp:304] MP4Encoder::CloseMP4File 已经关闭mp4句柄 liveId:100120190330gEdVJz8U007
I0717 17:15:03.273296 14919 MergeRunable.cpp:75] 执行任务 liveID:100120190330gEdVJz8U007  合成成功  rescode:1   fileName:/recordServer/branch/SF_RecordServer/File/100120190330gEdVJz8U007/100120190330gEdVJz8U007
E0717 17:15:03.273313 14919 MergeRunable.cpp:95] rescode :1
I0717 17:15:03.273367 14919 MergeRunable.cpp:118] UpdataMergeUrl:http://192.168.1.205:8080/live/live_update?liveId=100120190330gEdVJz8U007&mixFlag=1&operateId=test
I0717 17:15:04.285017 14919 MergeRunable.cpp:142] 执行任务 liveID:100120190330gEdVJz8U007  上传合成状态成功
I0717 17:15:04.285266 14919 CThreadPool.cpp:57]  执行任务 liveID:100120190330gEdVJz8U007  完成
